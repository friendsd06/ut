# Set the project name
$PROJECT_NAME = "my_project"

# Create the main project directory
mkdir $PROJECT_NAME
cd $PROJECT_NAME

# Create primary directories and files
mkdir -p "src\$PROJECT_NAME\$PROJECT_NAME\subpackage" "tests" "docs"
ni README.md -Force
ni .gitignore -Force
ni requirements.txt -Force
ni pyproject.toml -Force
ni setup.cfg -Force

# Create Python package __init__.py files
ni "src\$PROJECT_NAME\__init__.py" -Force
ni "src\$PROJECT_NAME\main.py" -Force
ni "src\$PROJECT_NAME\$PROJECT_NAME\__init__.py" -Force
ni "src\$PROJECT_NAME\$PROJECT_NAME\subpackage\__init__.py" -Force
ni "src\$PROJECT_NAME\$PROJECT_NAME\subpackage\module.py" -Force

# Create a sample test file
ni "tests\test_main.py" -Force
ni "tests\test_subpackage.py" -Force

# Initialize a Git repository
git init

# Add common entries to .gitignore
@"
venv/
__pycache__/
*.pyc
"@ | Out-File -Append .gitignore

# Create a virtual environment in the project directory
python -m venv venv

# Activate the virtual environment (for Windows)
.\venv\Scripts\activate

# Install basic dependencies and freeze them into requirements.txt
pip install --upgrade pip
pip install pytest
pip freeze > requirements.txt

# Add virtual environment instructions to README.md
@"
## Setting up the virtual environment

1. Create the virtual environment:
   ```powershell
   python -m venv venv